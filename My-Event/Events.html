<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events</title>
    <link rel="stylesheet" href="MyEvent.css">
    <!--Linking font awesome for icons-->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <!--linking Swipper css-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <!--Bootstrap-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css"/>
</head>
<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container-fluid">
            <div class="logo">
                <img src="Imgs/my-logo.png" alt="logo" class="logo-img">
                <h2 class="logo-name">My Event</h2>
            </div>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                   <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                       <li class="nav-item">
                           <a class="nav-link mx-lg-2" aria-current="page" href="Index.html">Home</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link mx-lg-2" href="Events.html">Events</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link mx-lg-2" href="Event.html">Event</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link mx-lg-2" href="About.html">About</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link mx-lg-2" href="Contact.html">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
            <button id="darkModeToggle" class="dark-toggle">ğŸŒ™</button>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                 <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>
    <section>
        <h2 class="section-title events-section" id="events">Events</h2>
        <div>
            <div class="row">
              <input type="text" id="search" placeholder="Search by title..."  class="col">
                <!-- filters-->
                <select id="categoryFilter"  class="col">
                    <option value="Cultural">Cultural</option>
                    <option value="Historicity">Historicity</option>
                    <option value="Experiments">Experiments</option>
                    <option value="Social">Social</option>
                    <option value="Artistic">Artistic</option>
                    <option value="Scientific">Scientific</option>
                </select>

                <select id="locationFilter" class="col">
                    <option value="Damascus">Damascus</option>
                    <option value="Latakia">Latakia</option>
                    <option value="Aleppo">Aleppo</option>
                    <option value="Homs">Homs</option>
                </select>

                <input type="date" id="dateFilter"  class="col">

                  <!-- filter by date-->
                <select id="sortOrder"  class="col">
                    <option value="asc">Oldest first</option>
                    <option value="desc" selected>Newest first</option>
                </select>
                </div>
                <p class="text-sm mt-2 text-gray-500">you can chose more than category by clicking (ctrl) and select</p>
            </div>
        <div class="p-6 grid gap-6 md:grid-cols-2 lg:grid-cols-3" id="eventsGrid"></div>
    </section>

    <!--Footer section-->
    <footer class="footer-section">
        <div class="section-content">
            <p class="copyright-text">2025 My Event</p>

            <div class="social-link-list">
            <a href="#" class="social-link"><i class='bx bxl-facebook'></i></a>
            <a href="#" class="social-link"><i class='bx bxl-instagram'></i></a>
            <a href="#" class="social-link"><i class='bx bxl-twitter'></i></a>
            </div>

            <p class="policy-text">
            <a href="#" class="policy-link">Privacy Policy</a>
            <span class="separator">.</span>
            <a href="#" class="policy-link">Refund policy</a>
        </div>
    </footer>
    <script src="MyEvent.js"></script>
    <script src="nightMode.js" defer></script>
    <script>
        const events = [
            //",description:"ÙØ¹Ø§Ù„ÙŠØ§Øª Ù…ÙˆØ³ÙŠÙ‚ÙŠØ© ÙˆØ«Ù‚Ø§ÙÙŠØ© ØªÙ‚Ø§Ù… ÙÙŠ Ù‚Ù„Ø¹Ø© Ø­Ù„Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© ÙˆØªØ³ØªØ¶ÙŠÙ ÙÙ†Ø§Ù†ÙŠÙ† Ø³ÙˆØ±ÙŠÙŠÙ† ÙˆØ¹Ø±Ø¨."},
        {id:"damascus-fair",title:"damascus international fair",date:"2025-08-15",location:"Damascus",category:"Experiments",image:"Imgs/event1.jfif",description:"Musical and cultural events are held at the historic Citadel of Aleppo, hosting Syrian and Arab artists."},
        {id:"flower",title:"flower fair",date:"2025-05-01",location:"Damascus",category:"Artistic",image:"Imgs/event2.jfif",description:"A spring festival celebrating the beauty of flowers and plants, bringing together nature lovers from across Syria."},
        {id:"citadel",title:"citadel evenings",date:"2025-07-10",location:"Aleppo",category:"Cultural",image:"Imgs/event3.jfif",description:"Musical and cultural events are held at the historic Citadel of Aleppo, hosting Syrian and Arab artists."},
        {id:"shopping",title:"Ùshopping Festival",date:"2025-06-20",location:"Damascus",category:"Experiments",image:"Imgs/event4.jfif",description:"An annual festival that showcases local products at competitive prices and aims to support Syrian industry."},
        {id:"coast",title:"coast festival",date:"2025-07-05",location:"Latakia",category:"Social",image:"Imgs/event5.jfif",description:"A unique summer event featuring musical and artistic performances on the beaches of the Syrian coast."},
        {id:"buildex",title:"Buildex fair",date:"2025-09-12",location:"Homs",category:"Experiments",image:"Imgs/event6.jfif",description:"An exhibition specializing in building materials and engineering equipment, bringing together real estate companies and contractors."},
        {id:"motor",title:"cars fairs",date:"2025-10-30",location:"Damascus",category:"Experiments",image:"Imgs/event7.jfif",description:"A huge event for car enthusiasts showcasing the latest models from local and international companies."},
        ];

        const grid = document.getElementById('eventsGrid');

        // create cards
        function renderEvents(filteredEvents) {
        grid.innerHTML = "";
        if(filteredEvents.length === 0) {
            grid.innerHTML = `<p class="col-span-full text-center text-gray-500">no events</p>`;
            return;
        }
        
            const row = document.createElement('div');
            row.className = "row g-4";
            grid.appendChild(row);
        filteredEvents.forEach(event => {
            const col=document.createElement('div');
            col.className = "col-md-4"
            col.innerHTML = `
                <div class="card bg-white shadow p-3 rounded overflow-hidden h-100">
                    <img src="${event.image}" alt="${event.title}" class="card-img-top">
                    <div class="p-4">
                        <h3 class="mb-2">${event.title}</h3>
                        <p class="text-muted small">ğŸ“… ${event.date} | ğŸ“ ${event.location} | ğŸ·ï¸ ${event.category}</p>
                        <p class="text-sm">${event.description}</p>
                        <a href="event-details.html?id=${event.id}" class="block text-center bg-indigo-600 text-warning py-2 rounded-lg hover:bg-indigo-700">details</a>
                    </div>
                </div>    
            `;
            row.appendChild(col);
        });
        }

        function filterEvents() {
        const search = document.getElementById('search').value.toLowerCase();
        
        const categorySelect = Array.from(document.getElementById('categoryFilter').selectedOptions).map(opt => opt.value);
        const locationSelect = Array.from(document.getElementById('locationFilter').selectedOptions).map(opt => opt.value);
        const date = document.getElementById('dateFilter').value;
        const sortOrder = document.getElementById('sortOrder').value;

        let filtered = events.filter(event => {
            const matchesSearch = event.title.toLowerCase().includes(search);
            const matchesCategory = categorySelect.length === 0 || categorySelect.includes(event.category);
            const matchesLocation = locationSelect.length === 0 || locationSelect.includes(event.location);
            const matchesDate = date === "" || event.date === date;
            return matchesSearch && matchesCategory && matchesLocation && matchesDate;
        });

        // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®
        filtered.sort((a,b) => sortOrder === "asc" ? new Date(a.date) - new Date(b.date) : new Date(b.date) - new Date(a.date));

        renderEvents(filtered);
        }

        document.getElementById('search').addEventListener('input', filterEvents);
        document.getElementById('categoryFilter').addEventListener('change', filterEvents);
        document.getElementById('locationFilter').addEventListener('change', filterEvents);
        document.getElementById('dateFilter').addEventListener('change', filterEvents);
        document.getElementById('sortOrder').addEventListener('change', filterEvents);

        renderEvents(events);

    </script>    
</body>
</html>